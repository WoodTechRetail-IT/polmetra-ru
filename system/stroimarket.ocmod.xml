<?xml version="1.0" encoding="UTF-8"?>
<modification>
	<name>Stroimarket Theme ocStore 3.0.3.7 ocmod</name>
	<code>stroimarket_2_v.2.0.3</code>
	<version>2.0.3</version>
	<author>bigeon.ru</author>
	<site>https://bigeon.ru/</site>
	
	<file path="admin/controller/catalog/information.php">
        <operation>
            <search><![CDATA[if (isset($this->request->post['bottom'])) {]]></search>
            <add position="before"><![CDATA[
				if (isset($this->request->post['top'])) {
					$data['top'] = $this->request->post['top'];
				} elseif (!empty($information_info)) {
					$data['top'] = $information_info['top'];
				} else {
					$data['top'] = 0;
				}
			]]></add>
        </operation>
    </file>
	
    <file path="admin/model/catalog/information.php">
        <operation>
            <search><![CDATA[$this->db->query("INSERT INTO " . DB_PREFIX . "information SET sort_order = '" . (int)$data['sort_order'] . "', bottom = '" . (isset($data['bottom']) ? (int)$data['bottom'] : 0) . "', status = '" . (int)$data['status'] . "', noindex = '" . (int)$data['noindex'] . "'");]]></search>
            <add position="replace"><![CDATA[
				$this->db->query("INSERT INTO " . DB_PREFIX . "information SET sort_order = '" . (int)$data['sort_order'] . "', top = '" . (isset($data['top']) ? (int)$data['top'] : 0) . "', bottom = '" . (isset($data['bottom']) ? (int)$data['bottom'] : 0) . "', status = '" . (int)$data['status'] . "', noindex = '" . (int)$data['noindex'] . "'");
			]]></add>
        </operation>
        <operation>
            <search><![CDATA[$this->db->query("UPDATE " . DB_PREFIX . "information SET sort_order = '" . (int)$data['sort_order'] . "', bottom = '" . (isset($data['bottom']) ? (int)$data['bottom'] : 0) . "', status = '" . (int)$data['status'] . "', noindex = '" . (int)$data['noindex'] . "' WHERE information_id = '" . (int)$information_id . "'");]]></search>
            <add position="replace"><![CDATA[
				$this->db->query("UPDATE " . DB_PREFIX . "information SET sort_order = '" . (int)$data['sort_order'] . "', top = '" . (isset($data['top']) ? (int)$data['top'] : 0) . "', bottom = '" . (isset($data['bottom']) ? (int)$data['bottom'] : 0) . "', status = '" . (int)$data['status'] . "', noindex = '" . (int)$data['noindex'] . "' WHERE information_id = '" . (int)$information_id . "'");
			]]></add>
        </operation>
    </file>
	
    <file path="admin/language/ru-ru/catalog/information.php">
        <operation>
            <search><![CDATA[$_['entry_bottom']           = 'Показывать в футере';]]></search>
            <add position="before"><![CDATA[
				$_['entry_top'] = 'Отображать сверху';
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$_['help_bottom']            = 'Показывать в подвале \ футере магазина';]]></search>
            <add position="before"><![CDATA[
				$_['help_top']            = 'Показывать в верхней части сайта (шапка сайта, хедер)';
			]]></add>
        </operation>
    </file>
	
    <file path="admin/view/template/catalog/information_form.twig">
        <operation>
            <search offset="2"><![CDATA[<label class="col-sm-2 control-label" for="input-bottom">]]></search>
            <add position="before" offset="1"><![CDATA[
			    <div class="form-group">
				    <label class="col-sm-2 control-label" for="input-top"><span data-toggle="tooltip" title="{{ help_top }}">{{ entry_top }}</span></label>
					<div class="col-sm-10">
						<div class="checkbox">
							<label>
							{% if top %}
							<input type="checkbox" name="top" value="1" checked="checked" id="input-top" />
							{% else %}
							<input type="checkbox" name="top" value="1" id="input-top" />
							{% endif %}
							&nbsp;</label>
						</div>
					</div>
				</div>
			]]></add>
        </operation>
    </file>
	
    <file path="catalog/controller/common/header.php">
        <operation>
			<search><![CDATA[$this->load->language('common/header');]]></search>
			<add position="after"><![CDATA[
				$this->load->language('stroimarket/stroimarket');
				$data['cart_total'] 	= $this->cart->countProducts();
				$data['open'] 			= $this->config->get('config_open');
				$data['address'] 		= $this->config->get('config_address');
				$data['email'] 			= $this->config->get('config_email');
				$data['firstname'] 		= $this->customer->getFirstName();
				$data['compare_total'] 	= (isset($this->session->data['compare']) ? count($this->session->data['compare']) : 0);
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['base'] = $server;]]></search>
            <add position="before"><![CDATA[$this->load->model('catalog/information');
				$data['informations'] = array();
				foreach ($this->model_catalog_information->getInformations() as $result) {
					if ($result['top']) {
						$data['informations'][] = array(
							'title' => $result['title'],
							'href'  => $this->url->link('information/information', 'information_id=' . $result['information_id'])
						);
					}
				}]]></add>
        </operation>
		<operation>
			<search><![CDATA[$data['telephone'] = $this->config->get('config_telephone');]]></search>
			<add position="after"><![CDATA[
				$data['tel'] = str_replace(array('(', ')', ' ', '-'), '', $this->config->get('config_telephone'));
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['contact'] = $this->url->link('information/contact');]]></search>
            <add position="after"><![CDATA[
				$data['compare'] = $this->url->link('product/compare');
			]]></add>
        </operation>
		<operation>
			<search><![CDATA[$data['text_wishlist'] = sprintf($this->language->get('text_wishlist'), $this->model_account_wishlist->getTotalWishlist());]]></search>
			<add position="after"><![CDATA[
				$data['wishlist_total'] = $this->model_account_wishlist->getTotalWishlist();	
            ]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['text_wishlist'] = sprintf($this->language->get('text_wishlist'), (isset($this->session->data['wishlist']) ? count($this->session->data['wishlist']) : 0));]]></search>
			<add position="after"><![CDATA[
				$data['wishlist_total'] = (isset($this->session->data['wishlist']) ? count($this->session->data['wishlist']) : 0);	
            ]]></add>
		</operation>			
    </file>
		
	<file path="catalog/controller/common/menu.php">
		<operation>
			<search><![CDATA[$this->load->language('common/menu');]]></search>
			<add position="after"><![CDATA[
				$this->load->language('stroimarket/stroimarket');
			]]></add>
        </operation>
		<operation>
			<search><![CDATA[$data['categories'] = array();]]></search>
			<add position="after"><![CDATA[
				$data['special'] = $this->url->link('product/special');
			]]></add>
		</operation>
		<operation>
            <search><![CDATA[$data['categories'][] = array(]]></search>
            <add position="before"><![CDATA[
				if ($category['image']) {
					$category['image'] = $this->model_tool_image->resize($category['image'], 24, 24);
				} else {
					$category['image'] = $this->model_tool_image->resize('placeholder.png', 24, 24);
				}
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[foreach ($children as $child) {]]></search>
            <add position="after"><![CDATA[
				if ($child['image']) {
					$child['image'] = $this->model_tool_image->resize($child['image'], 24, 24);
				} else {
					$child['image'] = $this->model_tool_image->resize('placeholder.png', 24, 24);
				}
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['categories'][] = array(]]></search>
            <add position="after"><![CDATA[
				'image' 		=> $this->config->get('config_menu_image') ? $category['image'] : '',
				'category_id' 	=> $category['category_id'],
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$children_data[] = array(]]></search>
            <add position="after"><![CDATA[
				'image' => $this->config->get('config_menu_image2') ? $child['image'] : '',
			]]></add>
        </operation>
        <operation>
            <search><![CDATA[$this->load->model('catalog/product');]]></search>
            <add position="after"><![CDATA[
				$this->load->model('tool/image');
			]]></add>
        </operation>
		<operation>
			<search><![CDATA[foreach ($children as $child) {]]></search>
			<add position="after"><![CDATA[
				$gchildren_data = array();
				$gchildren = $this->model_catalog_category->getCategories($child['category_id']);
				foreach ($gchildren as $gchild) {
				    $gchildren_filter_data = array(
				        'filter_category_id'  => $gchild['category_id'],
				        'filter_sub_category' => true
				    );			        
				    $gchildren_data[] = array(
				        'name'  => $gchild['name'] . ($this->config->get('config_product_count') ? ' (' . $this->model_catalog_product->getTotalProducts($gchildren_filter_data) . ')' : ''),
				        'href'  => $this->url->link('product/category', 'path=' . $category['category_id'] . '_' . $child['category_id'] . '_' . $gchild['category_id'])
				    );    
				}
			]]></add>
		</operation>
		<operation>
			<search><![CDATA['name'  => $child['name'] . ($this->config->get('config_product_count') ? ' (' . $this->model_catalog_product->getTotalProducts($filter_data) . ')' : ''),]]></search>
			<add position="after"><![CDATA[
				'gchildren' => $this->config->get('config_menu_gchildren') ? $gchildren_data : '',
				'column'   => $child['column'] ? $child['column'] : 1,
			]]></add>
		</operation>
	</file>
		
	<file path="catalog/controller/checkout/cart.php">
		<operation>
			<search><![CDATA[$this->load->language('checkout/cart');]]></search>
			<add position="after"><![CDATA[
				$this->load->language('stroimarket/stroimarket');
			]]></add>
        </operation>
		<operation>
			<search><![CDATA[$json['total'] = sprintf($this->language->get('text_items'), $this->cart->countProducts() + (isset($this->session->data['vouchers']) ? count($this->session->data['vouchers']) : 0), $this->currency->format($total, $this->session->data['currency']));]]></search>
			<add position="after"><![CDATA[
				$json['cart_total'] = $this->cart->countProducts();
			]]></add>
		</operation>	
    </file>

	<file path="catalog/controller/account/wishlist.php">
		<operation>
            <search><![CDATA[$json['total'] = sprintf($this->language->get('text_wishlist'), $this->model_account_wishlist->getTotalWishlist());]]></search>
            <add position="after"><![CDATA[
				$json['wishlist_total'] = $this->model_account_wishlist->getTotalWishlist();
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$json['total'] = sprintf($this->language->get('text_wishlist'), (isset($this->session->data['wishlist']) ? count($this->session->data['wishlist']) : 0));]]></search>
            <add position="after"><![CDATA[
				$json['wishlist_total'] = (isset($this->session->data['wishlist']) ? count($this->session->data['wishlist']) : 0);
			]]></add>
        </operation>		
    </file>

	<file path="catalog/controller/product/compare.php">
		<operation>
			<search><![CDATA[$this->load->language('product/compare');]]></search>
			<add position="after"><![CDATA[
				$this->load->language('stroimarket/stroimarket');
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$json['total'] = sprintf($this->language->get('text_compare'), (isset($this->session->data['compare']) ? count($this->session->data['compare']) : 0));]]></search>
            <add position="before"><![CDATA[
				$json['compare_total'] = (isset($this->session->data['compare']) ? count($this->session->data['compare']) : 0);
			]]></add>
        </operation>		
    </file>

	<file path="catalog/controller/extension/module/featured_category.php">
		<operation>
			<search><![CDATA[$data['categories'] = array();]]></search>
			<add position="after"><![CDATA[
				$data['shadow_title'] = $this->config->get('config_shadow_title');
			]]></add>
        </operation>
    </file>

	<file path="catalog/model/catalog/product.php">
        <operation>
            <search><![CDATA[public function getProductAttributes($product_id) {]]></search>
            <add position="before"><![CDATA[
				public function getProductOnlyAttributes($product_id) {

					$product_attribute_data = array();

					$product_attribute_query = $this->db->query("SELECT a.attribute_id, ad.name, pa.text FROM " . DB_PREFIX . "product_attribute pa LEFT JOIN " . DB_PREFIX . "attribute a ON (pa.attribute_id = a.attribute_id) LEFT JOIN " . DB_PREFIX . "attribute_description ad ON (a.attribute_id = ad.attribute_id) WHERE pa.product_id = '" . (int)$product_id . "' AND ad.language_id = '" . (int)$this->config->get('config_language_id') . "' AND pa.language_id = '" . (int)$this->config->get('config_language_id') . "' ORDER BY a.sort_order, ad.name");

					foreach ($product_attribute_query->rows as $product_attribute) {
						$product_attribute_data[] = array(
							'attribute_id' => $product_attribute['attribute_id'],
							'name'         => $product_attribute['name'],
							'text'         => $product_attribute['text']
						);
					}

					return $product_attribute_data;
				}
			]]></add>
        </operation>
    </file>
		
	<file path="catalog/controller/product/product.php">
		<operation>
			<search><![CDATA[$data['attribute_groups'] = $this->model_catalog_product->getProductAttributes($this->request->get['product_id']);]]></search>
			<add position="after"><![CDATA[
				$data['attributes'] = $this->config->get('config_product_attributes') ? $this->model_catalog_product->getProductOnlyAttributes($this->request->get['product_id']) : '';
			]]></add>
        </operation>
		<operation>
			<search><![CDATA[$this->load->language('product/product');]]></search>
			<add position="after"><![CDATA[
				$this->load->language('stroimarket/stroimarket');
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['model'] = $product_info['model'];]]></search>
            <add position="after"><![CDATA[
				$data['sku'] 	= $this->config->get('config_product_sku') ? $product_info['sku'] : '';
				$data['weight'] = $this->config->get('config_product_weight') ? number_format($product_info['weight'], 1).''.$this->weight->getUnit($product_info['weight_class_id']) : '';
			]]></add>
        </operation>
		<operation>
			<search><![CDATA[if (!is_null($product_info['special']) && (float)$product_info['special'] >= 0) {]]></search>
			<add position="after"><![CDATA[
				$data['economy'] = $this->config->get('config_product_economy') ? $this->currency->format($this->tax->calculate($product_info['price'] - $product_info['special'], $product_info['tax_class_id'], $this->config->get('config_tax')), $this->session->data['currency']) : '';
				$data['percent'] = $this->config->get('config_product_discount') ? round(100-($product_info['special']/($product_info['price']/100))) : '';
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['special'] = false;]]></search>
			<add position="after"><![CDATA[
				$data['economy'] = false;
				$data['percent'] = false;
			]]></add>
		</operation>
		<operation>
            <search><![CDATA[if (!is_null($result['special']) && (float)$result['special'] >= 0) {]]></search>
            <add position="after"><![CDATA[
				$percent = $this->config->get('config_product_discount') ? round(100-($result['special']/($result['price']/100))) : '';
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$special = false;]]></search>
            <add position="after"><![CDATA[
				$percent = false;
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['products'] = array();]]></search>
            <add position="after"><![CDATA[
				$data['shadow_title'] 	= $this->config->get('config_shadow_title');
				$data['quantity_btn'] 	= $this->config->get('config_product_quantity');
				$data['back_history'] 	= $this->config->get('config_product_back_history');
				$data['stock_display'] 	= $this->config->get('config_stock_display');
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['products'][] = array(]]></search>
            <add position="after"><![CDATA[
				'percent'     	=> $percent,
                'quantity' 	  	=> $result['quantity'],
			]]></add>
        </operation>
        <operation>
            <search><![CDATA[$data['points'] = $product_info['points'];]]></search>
            <add position="after"><![CDATA[
				$data['quantity'] = $product_info['quantity'];
			]]></add>
        </operation>
		<operation>
			<search><![CDATA[$data['reviews'] = sprintf($this->language->get('text_reviews'), (int)$product_info['reviews']);]]></search>
			<add position="replace"><![CDATA[
				$data['reviews_count'] = $reviews_count = (int)$product_info['reviews'];
				function getcartword($count, $suffix) {
					$keys = array(2, 0, 1, 1, 1, 2);
					$mod = $count % 100;
					$suffix_key = ($mod > 7 && $mod < 20) ? 2: $keys[min($mod % 10, 5)];
					return $suffix[$suffix_key];
				}
				$text_array = array('text_reviews_1', 'text_reviews_2', 'text_reviews_3');
				$text = getcartword($reviews_count, $text_array);
				$data['reviews'] = sprintf($this->language->get($text), (int)$product_info['reviews']);
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['price'] = false;]]></search>
			<add position="after"><![CDATA[ 
				$data['attention']	=	sprintf($this->language->get('text_price_login'), $this->url->link('account/login'), $this->url->link('account/register'));	
			]]></add>
		</operation>
		<operation>
            <search><![CDATA[$data['rating'] = (int)$product_info['rating'];]]></search>
            <add position="after"><![CDATA[
			// Expanded rating
			$this->load->model('catalog/review');
			$review_total = $this->model_catalog_review->getTotalReviewsByProductId($this->request->get['product_id']);
			$estimations = $this->model_catalog_review->getReviewsByProductId($this->request->get['product_id']);

			$one 		= 0;
			$two 		= 0;
			$three 		= 0;
			$four 		= 0;
			$five 		= 0;
			$rating_sum = 0;

			foreach ($estimations as $estimation){
				($estimation['rating'] == '1') && $one++;
				($estimation['rating'] == '2') && $two++;
				($estimation['rating'] == '3') && $three++;
				($estimation['rating'] == '4') && $four++;
				($estimation['rating'] == '5') && $five++;

				$rating_sum += $estimation['rating'];
			}

			if ($review_total > 0) {
				$data['expanded_rating'][] = array(
					'one' 		=> number_format((100/$review_total) * $one),
					'two' 		=> number_format((100/$review_total) * $two),
					'three' 	=> number_format((100/$review_total) * $three),
					'four' 		=> number_format((100/$review_total) * $four),
					'five' 		=> number_format((100/$review_total) * $five),
					'rating' 	=> number_format($rating_sum / $review_total, 1),
					'total' 	=> $review_total
				);
			} else {
        		$data['expanded_rating'][] = array(
					'one' 		=> $one,
					'two' 		=> $two,
					'three' 	=> $three,
					'four' 		=> $four,
					'five' 		=> $five,
					'rating' 	=> number_format($rating_sum, 1),
					'total' 	=> $review_total
				);
        	}
			]]></add>
        </operation>
    </file>

	<file path="catalog/controller/product/{category,manufacturer,search,special}.php|catalog/controller/extension/module/{bestseller,featured,latest,special}.php">
		<operation>
			<search><![CDATA[$this->load->model('tool/image');]]></search>
			<add position="after"><![CDATA[
				$this->load->language('stroimarket/stroimarket');
			]]></add>
        </operation>
		<operation>
			<search><![CDATA[$data['products'] = array();]]></search>
			<add position="after"><![CDATA[ 
				$data['quantity_btn'] 	= $this->config->get('config_catalog_quantity');
				$data['review_status'] 	= $this->config->get('config_review_status');
				$data['shadow_title'] 	= $this->config->get('config_shadow_title');
			]]></add>
		</operation>
		<operation>
            <search><![CDATA[$data['products'][] = array(]]></search>
            <add position="after"><![CDATA[
				'manufacturer_image' 	=> $this->config->get('config_catalog_manufacturer') ? $this->model_tool_image->resize($manufacturer_image['image'], 60, 40) : '',
				'stock'       			=> $data['stock'],
				'economy'		    	=> $this->config->get('config_catalog_economy') ? $economy : '',
				'percent' 	        	=> $this->config->get('config_catalog_discount') ? $percent : '',
				'attention'   			=> sprintf($this->language->get('text_price_login'), $this->url->link('account/login'), $this->url->link('account/register')),
			]]></add>
        </operation>
	</file>
	
	<file path="catalog/controller/product/{category,manufacturer,search,special}.php">
        <operation>
            <search><![CDATA[$data['products'] = array();]]></search>
            <add position="after"><![CDATA[
				function product($number, $suffix) {
					$keys = array(2, 0, 1, 1, 1, 2);
					$mod = $number % 100;
					$suffix_key = ($mod > 7 && $mod < 20) ? 2: $keys[min($mod % 10, 5)];
					return $suffix[$suffix_key];
				}
				$text_review_array = array('text_reviews_1', 'text_reviews_2', 'text_reviews_3');
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['products'][] = array(]]></search>
            <add position="before"><![CDATA[
				$data['reviews_count'] = $reviews_count = (int)$result['reviews'];				
				$text_review = product($reviews_count, $text_review_array);
				if ($result['quantity'] <= 0) {
					$data['stock'] = $result['stock_status'];
				} elseif ($this->config->get('config_stock_display')) {
					$data['stock'] = $result['quantity'];
				} else {
					$data['stock'] = $this->language->get('text_instock');
				}
			]]></add>
        </operation>
    </file>
	
	<file path="catalog/controller/extension/module/bestseller.php">
        <operation>
            <search><![CDATA[$data['products'] = array();]]></search>
            <add position="after"><![CDATA[
				function bestseller($number, $suffix) {
					$keys = array(2, 0, 1, 1, 1, 2);
					$mod = $number % 100;
					$suffix_key = ($mod > 7 && $mod < 20) ? 2: $keys[min($mod % 10, 5)];
					return $suffix[$suffix_key];
				}
				$text_review_array = array('text_reviews_1', 'text_reviews_2', 'text_reviews_3');
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['products'][] = array(]]></search>
            <add position="before"><![CDATA[				
				$data['reviews_count'] = $reviews_count = (int)$result['reviews'];
				$text_review = bestseller($reviews_count, $text_review_array);
				if ($result['quantity'] <= 0) {
					$data['stock'] = $result['stock_status'];
				} elseif ($this->config->get('config_stock_display')) {
					$data['stock'] = $result['quantity'];
				} else {
					$data['stock'] = $this->language->get('text_instock');
				}
			]]></add>
        </operation>
    </file>

    <file path="catalog/controller/extension/module/featured.php">
		<operation>
            <search><![CDATA[if (!is_null($product_info['special']) && (float)$product_info['special'] >= 0) {]]></search>
            <add position="after"><![CDATA[
				$economy = $this->currency->format($this->tax->calculate($product_info['price'] - $product_info['special'], $this->config->get('config_tax')), $this->session->data['currency']);
			    $percent = round(100-($product_info['special']/($product_info['price']/100)));
			]]></add>
        </operation>
        <operation>
            <search><![CDATA[$special = false;]]></search>
            <add position="after"><![CDATA[
				$economy = false;
				$percent = false;
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['products'] = array();]]></search>
            <add position="after"><![CDATA[
				function featured($number, $suffix) {
					$keys = array(2, 0, 1, 1, 1, 2);
					$mod = $number % 100;
					$suffix_key = ($mod > 7 && $mod < 20) ? 2: $keys[min($mod % 10, 5)];
					return $suffix[$suffix_key];
				}
				$text_review_array = array('text_reviews_1', 'text_reviews_2', 'text_reviews_3');
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['products'][] = array(]]></search>
            <add position="before"><![CDATA[
				$data['reviews_count'] = $reviews_count = (int)$product_info['reviews'];				
				$text_review = featured($reviews_count, $text_review_array);
	
				if ($product_info['quantity'] <= 0) {
					$data['stock'] = $product_info['stock_status'];
				} elseif ($this->config->get('config_stock_display')) {
					$data['stock'] = $product_info['quantity'];
				} else {
					$data['stock'] = $this->language->get('text_instock');
				}

				$this->load->model('catalog/manufacturer');

				if ($product_info['manufacturer_id']) {
					$manufacturer_image = $this->model_catalog_manufacturer->getManufacturer($product_info['manufacturer_id']);
				} else {
					$manufacturer_image = false;
				}
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['products'][] = array(]]></search>
            <add position="after"><![CDATA[
				'manufacturer'   		=> $product_info['manufacturer'],
			    'quantity'    			=> $product_info['quantity'],
				'minimum'	  			=> $product_info['minimum'],
				'reviews' 	  			=> sprintf($this->language->get($text_review), (int)$product_info['reviews']),
				'sku'               	=> $this->config->get('config_catalog_sku') ? $product_info['sku'] : '',
			]]></add>
        </operation>
    </file>
	
	<file path="catalog/controller/extension/module/latest.php">
        <operation>
            <search><![CDATA[$data['products'] = array();]]></search>
            <add position="after"><![CDATA[
				function latest($number, $suffix) {
					$keys = array(2, 0, 1, 1, 1, 2);
					$mod = $number % 100;
					$suffix_key = ($mod > 7 && $mod < 20) ? 2: $keys[min($mod % 10, 5)];
					return $suffix[$suffix_key];
				}
				$text_review_array = array('text_reviews_1', 'text_reviews_2', 'text_reviews_3');
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['products'][] = array(]]></search>
            <add position="before"><![CDATA[			
				$data['reviews_count'] = $reviews_count = (int)$result['reviews'];
				$text_review = latest($reviews_count, $text_review_array);
				if ($result['quantity'] <= 0) {
					$data['stock'] = $result['stock_status'];
				} elseif ($this->config->get('config_stock_display')) {
					$data['stock'] = $result['quantity'];
				} else {
					$data['stock'] = $this->language->get('text_instock');
				}
			]]></add>
        </operation>
    </file>
	
	<file path="catalog/controller/extension/module/special.php">
        <operation>
            <search><![CDATA[$data['products'] = array();]]></search>
            <add position="after"><![CDATA[
				function special($number, $suffix) {
					$keys = array(2, 0, 1, 1, 1, 2);
					$mod = $number % 100;
					$suffix_key = ($mod > 7 && $mod < 20) ? 2: $keys[min($mod % 10, 5)];
					return $suffix[$suffix_key];
				}
				$text_review_array = array('text_reviews_1', 'text_reviews_2', 'text_reviews_3');
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['products'][] = array(]]></search>
            <add position="before"><![CDATA[			
				$data['reviews_count'] = $reviews_count = (int)$result['reviews'];
				$text_review = special($reviews_count, $text_review_array);							
				if ($result['quantity'] <= 0) {
					$data['stock'] = $result['stock_status'];
				} elseif ($this->config->get('config_stock_display')) {
					$data['stock'] = $result['quantity'];
				} else {
					$data['stock'] = $this->language->get('text_instock');
				}
			]]></add>
        </operation>
    </file>

	<file path="catalog/controller/product/{category,manufacturer,search,special}.php|catalog/controller/extension/module/{bestseller,latest,special}.php">
        <operation>
            <search><![CDATA[if (!is_null($result['special']) && (float)$result['special'] >= 0) {]]></search>
            <add position="after"><![CDATA[
				$economy = $this->currency->format($this->tax->calculate($result['price'] - $result['special'], $this->config->get('config_tax')), $this->session->data['currency']);
			    $percent = round(100-($result['special']/($result['price']/100)));
			]]></add>
        </operation>
        <operation>
            <search><![CDATA[$special = false;]]></search>
            <add position="after"><![CDATA[
				$economy = false;
				$percent = false;
			]]></add>
        </operation>
        <operation>
            <search><![CDATA[$data['products'][] = array(]]></search>
            <add position="after"><![CDATA[
				'manufacturer'   		=> $result['manufacturer'],
				'quantity'      		=> $result['quantity'],
				'minimum'	    		=> $result['minimum'],
				'reviews' 	    		=> sprintf($this->language->get($text_review), (int)$result['reviews']),
                'sku'           		=> $this->config->get('config_catalog_sku') ? $result['sku'] : '',
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['products'][] = array(]]></search>
            <add position="before"><![CDATA[
				$this->load->model('catalog/manufacturer');
				if ($result['manufacturer_id']) {
					$manufacturer_image = $this->model_catalog_manufacturer->getManufacturer($result['manufacturer_id']);
				} else {
					$manufacturer_image = false;
				}
			]]></add>
        </operation>
    </file>

	<file path="catalog/controller/common/footer.php">
        <operation>
			<search><![CDATA[$this->load->language('common/footer');]]></search>
			<add position="after"><![CDATA[
				$this->load->language('stroimarket/stroimarket');
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[public function index() {]]></search>
            <add position="after"><![CDATA[
				$data['telephone'] 				= $this->config->get('config_telephone');
				$data['address'] 				= nl2br($this->config->get('config_address'));
				$data['email'] 					= $this->config->get('config_email');
				$data['comment'] 				= $this->config->get('config_comment');	
				$data['phone'] 					= str_replace(array('(', ')', ' ', '-'), '', $this->config->get('config_telephone'));
				$data['open'] 					= nl2br($this->config->get('config_open'));
				$data['top_button'] 			= $this->config->get('config_top_button');
				$data['social'] 				= $this->config->get('config_social');
				$data['config_facebookid'] 		= $this->config->get('config_facebookid');
			    $data['config_twitterid'] 		= $this->config->get('config_twitterid');
				$data['config_telegramid'] 		= $this->config->get('config_telegramid');
			    $data['config_instagramid'] 	= $this->config->get('config_instagramid');
			    $data['config_vkid'] 			= $this->config->get('config_vkid');
			    $data['config_youtubeid'] 		= $this->config->get('config_youtubeid');
				$data['config_whatsappid'] 		= $this->config->get('config_whatsappid');
				$data['config_social_style']	= $this->config->get('config_social_style');
				$data['config_footer_email']	= $this->config->get('config_footer_email');
				$data['config_footer_address']	= $this->config->get('config_footer_address');
				$data['config_footer_open']		= $this->config->get('config_footer_open');
				$data['config_payment_icon']	= $this->config->get('config_payment_icon');
			]]></add>
        </operation>
    </file>

	<file path="catalog/controller/common/search.php">
        <operation>
            <search><![CDATA[$this->load->language('common/search');]]></search>
            <add position="after"><![CDATA[
				$this->load->language('stroimarket/stroimarket');
			]]></add>
        </operation>
    </file>
	
	<file path="catalog/controller/product/category.php">
		<operation>
			<search><![CDATA[$data['categories'][] = array(]]></search>
			<add position="before"><![CDATA[ 
				if ($result['image']) {
					$image = $this->model_tool_image->resize($result['image'], 150, 150);
				} else {
					$image = false;
				} 
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['categories'][] = array(]]></search>
			<add position="after"><![CDATA[ 
				'thumb' => $image, 
			]]></add>
		</operation>
		<operation>
			<search><![CDATA['name' => $result['name'] . ($this->config->get('config_product_count') ? ' (' . $this->model_catalog_product->getTotalProducts($filter_data) . ')' : ''),]]></search>
			<add position="replace"><![CDATA[ 
				'name'  		=> $result['name'],				
				'count' 	 	=> $this->model_catalog_product->getTotalProducts($filter_data),
				'config_count'  => $this->config->get('config_product_count'),
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[if ($category_info['image']) {]]></search>
			<add position="before"><![CDATA[ 
				if ($category_info['banner']) {
					$data['banner'] = $this->model_tool_image->resize($category_info['banner'], $this->config->get('theme_' . $this->config->get('config_theme') . '_banner_category_width'), $this->config->get('theme_' . $this->config->get('config_theme') . '_banner_category_height'));
				} else {
					$data['banner'] = '';
				} 
			]]></add>
		</operation>
	</file>
	
	<file path="catalog/controller/common/cart.php">
        <operation>
			<search><![CDATA[$this->load->language('common/cart');]]></search>
			<add position="after"><![CDATA[
				$this->load->language('stroimarket/stroimarket');
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['products'][] = array(]]></search>
            <add position="after"><![CDATA[
				'sku'       => $product['sku'],
			]]></add>
        </operation>
    </file>
	
	<file path="system/library/cart/cart.php">
        <operation>
            <search><![CDATA[$product_data[] = array(]]></search>
            <add position="after"><![CDATA[
				'sku'             => $product_query->row['sku'],
			]]></add>
        </operation>
    </file>

	<file path="admin/controller/setting/setting.php">
		<operation error="skip">
			<search><![CDATA[$this->load->model('tool/image');]]></search>
			<add position="before"><![CDATA[
			if (isset($this->request->post['config_facebookid'])) {
				$data['config_facebookid'] = $this->request->post['config_facebookid'];
			} else {
				$data['config_facebookid'] = $this->config->get('config_facebookid');
			}
			
			if (isset($this->request->post['config_twitterid'])) {
				$data['config_twitterid'] = $this->request->post['config_twitterid'];
			} else {
				$data['config_twitterid'] = $this->config->get('config_twitterid');
			}

			if (isset($this->request->post['config_telegramid'])) {
				$data['config_telegramid'] = $this->request->post['config_telegramid'];
			} else {
				$data['config_telegramid'] = $this->config->get('config_telegramid');
			}
		
			if (isset($this->request->post['config_instagramid'])) {
				$data['config_instagramid'] = $this->request->post['config_instagramid'];
			} else {
				$data['config_instagramid'] = $this->config->get('config_instagramid');
			}

			if (isset($this->request->post['config_vkid'])) {
				$data['config_vkid'] = $this->request->post['config_vkid'];
			} else {
				$data['config_vkid'] = $this->config->get('config_vkid');
			}
		
			if (isset($this->request->post['config_youtubeid'])) {
				$data['config_youtubeid'] = $this->request->post['config_youtubeid'];
			} else {
				$data['config_youtubeid'] = $this->config->get('config_youtubeid');
			}

			if (isset($this->request->post['config_whatsappid'])) {
				$data['config_whatsappid'] = $this->request->post['config_whatsappid'];
			} else {
				$data['config_whatsappid'] = $this->config->get('config_whatsappid');
			}

			if (isset($this->request->post['config_catalog_quantity'])) {
				$data['config_catalog_quantity'] = $this->request->post['config_catalog_quantity'];
			} else {
				$data['config_catalog_quantity'] = $this->config->get('config_catalog_quantity');
			}

			if (isset($this->request->post['config_product_quantity'])) {
				$data['config_product_quantity'] = $this->request->post['config_product_quantity'];
			} else {
				$data['config_product_quantity'] = $this->config->get('config_product_quantity');
			}

			if (isset($this->request->post['config_catalog_manufacturer'])) {
				$data['config_catalog_manufacturer'] = $this->request->post['config_catalog_manufacturer'];
			} else {
				$data['config_catalog_manufacturer'] = $this->config->get('config_catalog_manufacturer');
			}

			if (isset($this->request->post['config_product_manufacturer'])) {
				$data['config_product_manufacturer'] = $this->request->post['config_product_manufacturer'];
			} else {
				$data['config_product_manufacturer'] = $this->config->get('config_product_manufacturer');
			}

			if (isset($this->request->post['config_catalog_sku'])) {
				$data['config_catalog_sku'] = $this->request->post['config_catalog_sku'];
			} else {
				$data['config_catalog_sku'] = $this->config->get('config_catalog_sku');
			}

            if (isset($this->request->post['config_product_sku'])) {
				$data['config_product_sku'] = $this->request->post['config_product_sku'];
			} else {
				$data['config_product_sku'] = $this->config->get('config_product_sku');
			}

			if (isset($this->request->post['config_catalog_discount'])) {
				$data['config_catalog_discount'] = $this->request->post['config_catalog_discount'];
			} else {
				$data['config_catalog_discount'] = $this->config->get('config_catalog_discount');
			}

			if (isset($this->request->post['config_product_discount'])) {
				$data['config_product_discount'] = $this->request->post['config_product_discount'];
			} else {
				$data['config_product_discount'] = $this->config->get('config_product_discount');
			}

			if (isset($this->request->post['config_catalog_economy'])) {
				$data['config_catalog_economy'] = $this->request->post['config_catalog_economy'];
			} else {
				$data['config_catalog_economy'] = $this->config->get('config_catalog_economy');
			}

			if (isset($this->request->post['config_product_economy'])) {
				$data['config_product_economy'] = $this->request->post['config_product_economy'];
			} else {
				$data['config_product_economy'] = $this->config->get('config_product_economy');
			}

			if (isset($this->request->post['config_product_weight'])) {
				$data['config_product_weight'] = $this->request->post['config_product_weight'];
			} else {
				$data['config_product_weight'] = $this->config->get('config_product_weight');
			}

			if (isset($this->request->post['config_product_back_history'])) {
				$data['config_product_back_history'] = $this->request->post['config_product_back_history'];
			} else {
				$data['config_product_back_history'] = $this->config->get('config_product_back_history');
			}

			if (isset($this->request->post['config_product_attributes'])) {
				$data['config_product_attributes'] = $this->request->post['config_product_attributes'];
			} else {
				$data['config_product_attributes'] = $this->config->get('config_product_attributes');
			}
			
			if (isset($this->request->post['config_menu_gchildren'])) {
				$data['config_menu_gchildren'] = $this->request->post['config_menu_gchildren'];
			} else {
				$data['config_menu_gchildren'] = $this->config->get('config_menu_gchildren');
			}

			if (isset($this->request->post['config_menu_image'])) {
				$data['config_menu_image'] = $this->request->post['config_menu_image'];
			} else {
				$data['config_menu_image'] = $this->config->get('config_menu_image');
			}

			if (isset($this->request->post['config_menu_image2'])) {
				$data['config_menu_image2'] = $this->request->post['config_menu_image2'];
			} else {
				$data['config_menu_image2'] = $this->config->get('config_menu_image2');
			}

			if (isset($this->request->post['config_shadow_title'])) {
				$data['config_shadow_title'] = $this->request->post['config_shadow_title'];
			} else {
				$data['config_shadow_title'] = $this->config->get('config_shadow_title');
			}

			if (isset($this->request->post['config_top_button'])) {
				$data['config_top_button'] = $this->request->post['config_top_button'];
			} else {
				$data['config_top_button'] = $this->config->get('config_top_button');
			}

			if (isset($this->request->post['config_footer_email'])) {
				$data['config_footer_email'] = $this->request->post['config_footer_email'];
			} else {
				$data['config_footer_email'] = $this->config->get('config_footer_email');
			}

			if (isset($this->request->post['config_footer_address'])) {
				$data['config_footer_address'] = $this->request->post['config_footer_address'];
			} else {
				$data['config_footer_address'] = $this->config->get('config_footer_address');
			}

			if (isset($this->request->post['config_footer_open'])) {
				$data['config_footer_open'] = $this->request->post['config_footer_open'];
			} else {
				$data['config_footer_open'] = $this->config->get('config_footer_open');
			}

			if (isset($this->request->post['config_social'])) {
				$data['config_social'] = $this->request->post['config_social'];
			} else {
				$data['config_social'] = $this->config->get('config_social');
			}

			if (isset($this->request->post['config_payment_icon'])) {
				$data['config_payment_icon'] = $this->request->post['config_payment_icon'];
			} else {
				$data['config_payment_icon'] = $this->config->get('config_payment_icon');
			}

			if (isset($this->request->post['config_social_style'])) {
				$data['config_social_style'] = $this->request->post['config_social_style'];
			} else {
				$data['config_social_style'] = $this->config->get('config_social_style');
			}

			]]></add>
		</operation>
	</file>

	<file path="admin/view/template/setting/setting.twig">
		<operation>
			<search><![CDATA[<li><a href="#tab-server" data-toggle="tab">{{ tab_server }}</a></li>]]></search>
			<add position="after"><![CDATA[
				<li><a href="#tab-setting-theme" data-toggle="tab">Настройки шаблона Stroimarket</a></li>
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[<div class="tab-pane" id="tab-mail">]]></search>
			<add position="before"><![CDATA[
                <div class="tab-pane" id="tab-setting-theme">
                    <fieldset>
                        <legend>Каталог</legend>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">Кнопки переключения кол-ва</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_catalog_quantity %}
                                <input type="radio" name="config_catalog_quantity" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_catalog_quantity" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_catalog_quantity %}
                                <input type="radio" name="config_catalog_quantity" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_catalog_quantity" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<div class="form-group">
                            <label class="col-sm-2 control-label"><span data-toggle="tooltip" title="Вы можете включить/отключить отображение логотипа производителя в карточках товаров">Отображать логотип производителя</span></label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_catalog_manufacturer %}
                                <input type="radio" name="config_catalog_manufacturer" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_catalog_manufacturer" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_catalog_manufacturer %}
                                <input type="radio" name="config_catalog_manufacturer" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_catalog_manufacturer" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">Отображать Артикул</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_catalog_sku %}
                                <input type="radio" name="config_catalog_sku" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_catalog_sku" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_catalog_sku %}
                                <input type="radio" name="config_catalog_sku" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_catalog_sku" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<div class="form-group">
                            <label class="col-sm-2 control-label">Отображать скидку в процентах</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_catalog_discount %}
                                <input type="radio" name="config_catalog_discount" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_catalog_discount" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_catalog_discount %}
                                <input type="radio" name="config_catalog_discount" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_catalog_discount" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<div class="form-group">
                            <label class="col-sm-2 control-label">Отображать стикер экономии</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_catalog_economy %}
                                <input type="radio" name="config_catalog_economy" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_catalog_economy" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_catalog_economy %}
                                <input type="radio" name="config_catalog_economy" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_catalog_economy" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<div class="form-group">
                            <label class="col-sm-2 control-label">Показывать серый текст в названиях модулей</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_shadow_title %}
                                <input type="radio" name="config_shadow_title" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_shadow_title" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_shadow_title %}
                                <input type="radio" name="config_shadow_title" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_shadow_title" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<legend>Меню</legend>
						<div class="form-group">
                            <label class="col-sm-2 control-label"><span data-toggle="tooltip" title="Вы можете отключить показ 3 уровня категорий в главном меню">Категория 3 уровня</span></label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_menu_gchildren %}
                                <input type="radio" name="config_menu_gchildren" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_menu_gchildren" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_menu_gchildren %}
                                <input type="radio" name="config_menu_gchildren" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_menu_gchildren" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<div class="form-group">
                            <label class="col-sm-2 control-label"><span data-toggle="tooltip" title="Можно включить или отключить вывод изображения у главной категории в главном меню">Изображения главных категорий</span></label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_menu_image %}
                                <input type="radio" name="config_menu_image" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_menu_image" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_menu_image %}
                                <input type="radio" name="config_menu_image" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_menu_image" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<div class="form-group">
                            <label class="col-sm-2 control-label"><span data-toggle="tooltip" title="Можно включить или отключить вывод изображения у дочерних категории в главном меню">Изображения дочерних категорий</span></label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_menu_image2 %}
                                <input type="radio" name="config_menu_image2" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_menu_image2" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_menu_image2 %}
                                <input type="radio" name="config_menu_image2" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_menu_image2" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<legend>Товар</legend>
						<div class="form-group">
                            <label class="col-sm-2 control-label">Отображать краткие атрибуты</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_product_attributes %}
                                <input type="radio" name="config_product_attributes" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_product_attributes" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_product_attributes %}
                                <input type="radio" name="config_product_attributes" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_product_attributes" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<div class="form-group">
                            <label class="col-sm-2 control-label">Отображать кнопку "Назад в каталог"</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_product_back_history %}
                                <input type="radio" name="config_product_back_history" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_product_back_history" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_product_back_history %}
                                <input type="radio" name="config_product_back_history" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_product_back_history" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<div class="form-group">
                            <label class="col-sm-2 control-label">Отображать вес</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_product_weight %}
                                <input type="radio" name="config_product_weight" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_product_weight" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_product_weight %}
                                <input type="radio" name="config_product_weight" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_product_weight" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">Кнопки переключения кол-ва</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_product_quantity %}
                                <input type="radio" name="config_product_quantity" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_product_quantity" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_product_quantity %}
                                <input type="radio" name="config_product_quantity" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_product_quantity" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<div class="form-group">
                            <label class="col-sm-2 control-label">Отображать Артикул</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_product_sku %}
                                <input type="radio" name="config_product_sku" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_product_sku" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_product_sku %}
                                <input type="radio" name="config_product_sku" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_product_sku" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<div class="form-group">
                            <label class="col-sm-2 control-label">Отображать скидку в процентах</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_product_discount %}
                                <input type="radio" name="config_product_discount" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_product_discount" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_product_discount %}
                                <input type="radio" name="config_product_discount" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_product_discount" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<div class="form-group">
                            <label class="col-sm-2 control-label">Отображать стикер экономии</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_product_economy %}
                                <input type="radio" name="config_product_economy" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_product_economy" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_product_economy %}
                                <input type="radio" name="config_product_economy" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_product_economy" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<legend>Подвал</legend>
						<div class="form-group">
                            <label class="col-sm-2 control-label">Иконки платежных систем</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_payment_icon %}
                                <input type="radio" name="config_payment_icon" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_payment_icon" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_payment_icon %}
                                <input type="radio" name="config_payment_icon" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_payment_icon" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">Кнопка наверх</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_top_button %}
                                <input type="radio" name="config_top_button" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_top_button" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_top_button %}
                                <input type="radio" name="config_top_button" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_top_button" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<div class="form-group">
                            <label class="col-sm-2 control-label">Отображать Email</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_footer_email %}
                                <input type="radio" name="config_footer_email" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_footer_email" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_footer_email %}
                                <input type="radio" name="config_footer_email" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_footer_email" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<div class="form-group">
                            <label class="col-sm-2 control-label">Отображать адрес</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_footer_address %}
                                <input type="radio" name="config_footer_address" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_footer_address" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_footer_address %}
                                <input type="radio" name="config_footer_address" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_footer_address" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<div class="form-group">
                            <label class="col-sm-2 control-label">Отображать режим работы</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_footer_open %}
                                <input type="radio" name="config_footer_open" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_footer_open" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_footer_open %}
                                <input type="radio" name="config_footer_open" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_footer_open" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
                        <legend>Соцсети</legend>
						<div class="form-group">
                            <label class="col-sm-2 control-label">Включить</label>
                            <div class="col-sm-10">
                                <label class="radio-inline"> {% if config_social %}
                                <input type="radio" name="config_social" value="1" checked="checked" />
                                {{ text_yes }}
                                {% else %}
                                <input type="radio" name="config_social" value="1" />
                                {{ text_yes }}
                                {% endif %} </label>
                                <label class="radio-inline"> {% if not config_social %}
                                <input type="radio" name="config_social" value="0" checked="checked" />
                                {{ text_no }}
                                {% else %}
                                <input type="radio" name="config_social" value="0" />
                                {{ text_no }}
                                {% endif %} </label>
                            </div>
                        </div>
						<div class="form-group">
							<label class="col-sm-2 control-label">Стиль иконок</label>
							<div class="col-sm-10">
								<div class="btn-group" data-toggle="buttons">
									<label class="btn btn-default btn-on {% if config_social_style %} active {% endif %}">
										<input type="radio" name="config_social_style" value="1" {% if config_social_style %} checked {% endif %}>
										<span>Квадратные</span>
									</label>
									<label class="btn btn-default btn-off {% if not config_social_style %} active {% endif %}">
										<input type="radio" name="config_social_style" value="0" {% if not config_social_style %} checked {% endif %}>
										<span>Круглые</span>
									</label>
								</div>
							</div>
						</div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label" for="hd-facebook-id">Ссылка на Facebook</label>
                            <div class="col-sm-10">
                                <input class="form-control" id="hd-facebook-id" type="text" name="config_facebookid" placeholder="Facebook URL" value="{{ config_facebookid }}" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label" for="hd-twitter-id">Ссылка на Twitter</label>
                            <div class="col-sm-10">
                                <input class="form-control" id="hd-twitter-id" type="text" name="config_twitterid" placeholder="Twitter URL" value="{{ config_twitterid }}" />
                            </div>
                        </div>
						<div class="form-group">
							<label class="col-sm-2 control-label" for="hd-telegram-id">Ссылка на Telegram</label>
							<div class="col-sm-10">
								<input class="form-control" id="hd-telegram-id" type="text" name="config_telegramid" placeholder="Telegram URL" value="{{ config_telegramid }}" />
							</div>
						</div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label" for="hd-instagram-id">Ссылка на Instagram</label>
                            <div class="col-sm-10">
                                <input class="form-control" id="hd-instagram-id" type="text" name="config_instagramid" placeholder="Instagram URL" value="{{ config_instagramid }}" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label" for="hd-vk-id">Ссылка на VK</label>
                            <div class="col-sm-10">
                                <input class="form-control" id="hd-vk-id" type="text" name="config_vkid" placeholder="VK URL" value="{{ config_vkid }}" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label" for="hd-youtube-id">Ссылка на Youtube</label>
                            <div class="col-sm-10">
                                <input class="form-control" id="hd-youtube-id" type="text" name="config_youtubeid" placeholder="Youtube URL" value="{{ config_youtubeid }}" />
                            </div>
                        </div>
						<div class="form-group">
                            <label class="col-sm-2 control-label" for="hd-whatsapp-id">Ссылка на Whatsapp</label>
                            <div class="col-sm-10">
                                <input class="form-control" id="hd-whatsapp-id" type="text" name="config_whatsappid" placeholder="Whatsapp URL" value="{{ config_whatsappid }}" />
                            </div>
                        </div>
                    </fieldset>
                </div>
			]]></add>
		</operation>
	</file>
	
	<file path="admin/controller/extension/theme/default.php">
		<operation>
			<search><![CDATA[if (isset($this->error['image_category'])) {]]></search>
			<add position="before"><![CDATA[
				if (isset($this->error['banner_category'])) {
					$data['error_banner_category'] = $this->error['banner_category'];
				} else {
					$data['error_banner_category'] = '';
				}
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[if (isset($this->request->post['theme_default_image_category_width'])) {]]></search>
			<add position="before"><![CDATA[
				if (isset($this->request->post['theme_default_banner_category_width'])) {
					$data['theme_default_banner_category_width'] = $this->request->post['theme_default_banner_category_width'];
				} elseif (isset($setting_info['theme_default_banner_category_width'])) {
					$data['theme_default_banner_category_width'] = $setting_info['theme_default_banner_category_width'];
				} else {
					$data['theme_default_banner_category_width'] = 1528;		
				}
				
				if (isset($this->request->post['theme_default_banner_category_height'])) {
					$data['theme_default_banner_category_height'] = $this->request->post['theme_default_banner_category_height'];
				} elseif (isset($setting_info['theme_default_banner_category_height'])) {
					$data['theme_default_banner_category_height'] = $setting_info['theme_default_banner_category_height'];
				} else {
					$data['theme_default_banner_category_height'] = 228;
				}
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[protected function validate() {]]></search>
			<add position="after"><![CDATA[
				if (!$this->request->post['theme_default_banner_category_width'] || !$this->request->post['theme_default_banner_category_height']) {
					$this->error['banner_category'] = $this->language->get('error_banner_category');
				}
			]]></add>
		</operation>
	</file>
	
	<file path="admin/controller/catalog/product.php">
		<operation>
			<search><![CDATA[$this->error['model'] = $this->language->get('error_model');]]></search>
			<add position="replace" offset="3"><![CDATA[
				//$this->error['model'] = $this->language->get('error_model');
			]]></add>
		</operation>
	</file>	
	
	<file path="admin/view/template/catalog/product_form.twig">
		<operation>
			<search><![CDATA[{{ footer }}]]></search>
			<add position="before"><![CDATA[
				<script type="text/javascript"><!--
					var a = $("#input-model").parent().parent()
					if (a.hasClass("required")) {
						a.removeClass("required")
					};
				//--></script>
			]]></add>
		</operation>
	</file>
	
	<file path="admin/language/ru-ru/extension/theme/default.php">
		<operation>
			<search><![CDATA[$_['entry_image_category']             = 'Размер изображений категории (Ш x В)';]]></search>
			<add position="after"><![CDATA[
				$_['entry_banner_category']             = 'Размер баннера категории (Ш x В)';
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$_['error_image_category']             = 'Необходимо установить размер изображения категорий!';]]></search>
			<add position="after"><![CDATA[
				$_['error_banner_category']             = 'Необходимо установить размер баннера категорий!';
			]]></add>
		</operation>
	</file>

	<file path="admin/language/ru-ru/catalog/category.php">
		<operation>
			<search><![CDATA[$_['entry_image']            = 'Изображение';]]></search>
			<add position="after"><![CDATA[
				$_['entry_banner']             = 'Баннер';
			]]></add>
		</operation>
	</file>
	
	<file path="admin/controller/catalog/category.php">
		<operation>
			<search><![CDATA[if (isset($this->request->post['image'])) {]]></search>
			<add position="before"><![CDATA[
				if (isset($this->request->post['banner'])) {
					$data['banner'] = $this->request->post['banner'];
				} elseif (!empty($category_info)) {
					$data['banner'] = $category_info['banner'];
				} else {
					$data['banner'] = '';
				}
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[if (isset($this->request->post['image']) && is_file(DIR_IMAGE . $this->request->post['image'])) {]]></search>
			<add position="before"><![CDATA[
				if (isset($this->request->post['banner']) && is_file(DIR_IMAGE . $this->request->post['banner'])) {
					$data['banner'] = $this->model_tool_image->resize($this->request->post['banner'], 100, 100);
				} elseif (!empty($category_info) && is_file(DIR_IMAGE . $category_info['banner'])) {
					$data['banner'] = $this->model_tool_image->resize($category_info['banner'], 100, 100);
				} else {
					$data['banner'] = $this->model_tool_image->resize('no_image.png', 100, 100);
				}
			]]></add>
		</operation>
	</file>
	
	<file path="admin/model/catalog/category.php">
		<operation>
			<search><![CDATA[if (isset($data['image'])) {]]></search>
			<add position="before"><![CDATA[
				if (isset($data['banner'])) {
					$this->db->query("UPDATE " . DB_PREFIX . "category SET banner = '" . $this->db->escape($data['banner']) . "' WHERE category_id = '" . (int)$category_id . "'");
				}
			]]></add>
		</operation>
	</file>

	<file path="admin/view/template/catalog/category_form.twig">
		<operation>
			<search><![CDATA[<label class="col-sm-2 control-label">{{ entry_image }}</label>]]></search>
			<add position="before" offset="1"><![CDATA[
				<div class="form-group">
                	<label class="col-sm-2 control-label">{{ entry_banner }}</label>
                	<div class="col-sm-10"><a href="" id="thumb-banner" data-toggle="image" class="img-thumbnail"><img src="{{ banner }}" alt="" title="" data-placeholder="{{ placeholder }}" /></a>
                  		<input type="hidden" name="banner" value="{{ banner }}" id="input-banner" />
                	</div>
              	</div>
			]]></add>
		</operation>
	</file>

	<file path="admin/view/template/extension/theme/default.twig">
		<operation>
			<search><![CDATA[<legend>{{ text_image }}</legend>]]></search>
			<add position="after"><![CDATA[
				<div class="form-group required">
              		<label class="col-sm-2 control-label" for="input-banner-category-width">{{ entry_banner_category }}</label>
					<div class="col-sm-10">
						<div class="row">
							<div class="col-sm-6">
								<input type="text" name="theme_default_banner_category_width" value="{{ theme_default_banner_category_width }}" placeholder="{{ entry_width }}" id="input-banner-category-width" class="form-control" />
							</div>
							<div class="col-sm-6">
								<input type="text" name="theme_default_banner_category_height" value="{{ theme_default_banner_category_height }}" placeholder="{{ entry_height }}" class="form-control" />
							</div>
						</div>
						{% if error_banner_category %}
						<div class="text-danger">{{ error_banner_category }}</div>
						{% endif %}
					</div>
				</div>
			]]></add>
		</operation>
	</file>

	<file path="catalog/controller/account/account.php">
        <operation>
			<search><![CDATA[$data['wishlist'] = $this->url->link('account/wishlist');]]></search>
			<add position="after"><![CDATA[
				$data['logout'] = $this->url->link('account/logout', '', true);
			]]></add>
        </operation>
    </file>

	<file path="catalog/controller/account/order.php">
        <operation>
			<search><![CDATA[$this->load->language('account/order');]]></search>
			<add position="after"><![CDATA[
				$this->load->language('stroimarket/stroimarket');
			]]></add>
        </operation>
		<operation>
            <search><![CDATA['name'     => $product['name'],]]></search>
            <add position="after"><![CDATA[
				'image'     => $image,
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['products'][] = array(]]></search>
            <add position="before"><![CDATA[
				$this->load->model('tool/image');
                $image = $this->model_tool_image->resize($product_info['image'], 90, 90);
			]]></add>
        </operation>
    </file>
	
	<file path="catalog/controller/information/contact.php">
        <operation>
			<search><![CDATA[$this->load->language('information/contact');]]></search>
			<add position="after"><![CDATA[
				$this->load->language('stroimarket/stroimarket');
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$data['comment'] = $this->config->get('config_comment');]]></search>
            <add position="after"><![CDATA[
				$data['contact_email'] = $this->config->get('config_email');
				$data['contact_phone'] = str_replace(array('(', ')', ' ', '-'), '', $this->config->get('config_telephone'));
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$mail->setText($this->request->post['enquiry']);]]></search>
            <add position="replace"><![CDATA[			
				$mailtext = $this->request->post['enquiry'] . "\r\n";								
				$mailtext .= $this->language->get('text_customer_name') . $this->request->post['name'] . "\r\n";
				$mailtext .= $this->language->get('text_email') . strip_tags(html_entity_decode($this->request->post['email'], ENT_QUOTES, 'UTF-8')). "\r\n";
				$mailtext .= $this->language->get('text_phone') . strip_tags(html_entity_decode($this->request->post['phone'], ENT_QUOTES, 'UTF-8')) . "\r\n";								
				$mailtext .= $this->language->get('text_time') . date('d.m.Y');
				$mail->setText(html_entity_decode($mailtext, ENT_QUOTES, 'UTF-8'));
            ]]></add>
        </operation>
		<operation>
			<search><![CDATA[if (isset($this->error['email'])) {]]></search>
			<add position="before"><![CDATA[
				if (isset($this->error['phone'])) {
					$data['error_phone'] = $this->error['phone'];
				} else {
					$data['error_phone'] = '';
				}
            ]]></add>
		</operation>
		<operation>
			<search><![CDATA[if (isset($this->request->post['email'])) {]]></search>
			<add position="before"><![CDATA[
				if (isset($this->request->post['phone'])) {
					$data['phone'] = $this->request->post['phone'];
				} else {
					$data['phone'] = $this->customer->getTelephone();
				}
            ]]></add>
		</operation>
		<operation>
			<search><![CDATA[if (!filter_var($this->request->post['email'], FILTER_VALIDATE_EMAIL)) {]]></search>
			<add position="before"><![CDATA[
				if (!filter_var($this->request->post['phone'], FILTER_VALIDATE_INT)) {
					$this->error['phone'] = $this->language->get('error_phone');
				}
            ]]></add>
		</operation>
    </file>
  
	<file path="catalog/controller/extension/module/category.php">	
		<operation>
			<search><![CDATA[$this->load->language('extension/module/category');]]></search>
			<add position="after"><![CDATA[
				$this->load->language('stroimarket/stroimarket');
			]]></add>
        </operation>
		<operation>
			<search><![CDATA[if ($category['category_id'] == $data['category_id']) {]]></search>
			<add position="replace"><![CDATA[ 
				if ($category['category_id']) { 
			]]></add>
		</operation>
	</file>
	
	<file path="system/library/pagination.php">
        <operation>
            <search><![CDATA[public $text_first = '|&lt;';]]></search>
            <add position="replace"><![CDATA[
				public $text_first = '<i class="fa fa-angle-double-left"></i>';
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[public $text_last = '&gt;|';]]></search>
            <add position="replace"><![CDATA[
				public $text_last = '<i class="fa fa-angle-double-right"></i>';
			]]></add>
        </operation>
	</file>

    <file path="catalog/controller/extension/module/{slideshow,carousel}.php">
		<operation>
            <search><![CDATA[$this->document->addStyle('catalog/view/javascript/jquery/swiper/css/opencart.css');]]></search>
            <add position="replace"><![CDATA[
                //$this->document->addStyle('catalog/view/javascript/jquery/swiper/css/opencart.css');
			]]></add>
        </operation>
    </file>

	<file path="catalog/language/ru-ru/ru-ru.php">
        <operation>
            <search><![CDATA[$_['text_home']             = '<i class="fa fa-home"></i>';]]></search>
            <add position="replace"><![CDATA[
				$_['text_home']             = 'На главную';
			]]></add>
        </operation>
		<operation>
            <search><![CDATA[$_['button_cart']           = 'Купить';]]></search>
            <add position="replace"><![CDATA[
				$_['button_cart']           = 'В корзину';
			]]></add>
        </operation>
    </file>

	<file path="catalog/language/en-gb/en-gb.php">
        <operation>
            <search><![CDATA[$_['text_home']             = '<i class="fa fa-home"></i>';]]></search>
            <add position="replace"><![CDATA[
				$_['text_home']             = 'Home';
			]]></add>
        </operation>
    </file>

	<file path="catalog/language/uk-ua/uk-ua.php">
        <operation>
            <search><![CDATA[$_['text_home']             = '<i class="fa fa-home"></i>';]]></search>
            <add position="replace"><![CDATA[
				$_['text_home']             = 'На головну';
			]]></add>
        </operation>
    </file>

	<file path="catalog/controller/product/manufacturer.php">
		<operation>
			<search><![CDATA[$data['categories'][$key]['manufacturer'][] = array(]]></search>
			<add position="after"><![CDATA[
				'image' => $this->model_tool_image->resize($result['image'], 200, 200),
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$this->load->model('catalog/manufacturer');]]></search>
			<add position="after"><![CDATA[
				$this->load->model('tool/image');
			]]></add>
		</operation>
	</file>

</modification>